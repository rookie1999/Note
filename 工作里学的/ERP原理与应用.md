> https://www.bilibili.com/video/BV1r7411j7pg?p=1

## ERP原理概述

### 工业4.0

工业4.0：利用信息化技术促进产业变革的时代 -> 智能化时代

工业4.0的特点：

* 互联
  * 设备
  * 生产线
  * 供应商
  * 工厂
  * 产品
  * 客户
* 数据
  * 产品数据
  * 设备数据
  * 研发数据
  * 工业链数据
  * 运营数据
  * 管理数据
  * 销售数据
  * 消费者数据
  * ...
* 集成
* 创新
  * 技术创新
  * 产品创新
  * 模式创新
  * 业态创新
  * 组织创新
* 转型

**未来的企业**

* 互联智能的企业
* 数据的企业
* 创新的企业
* 集成的企业
* 快速变化的企业



### ERP概念

Enterprise Resource Planning 企业资源计划

ERP系统是指建立在信息技术基础上，以系统化的管理思想，为企业决策层及员工提供对企业资源以及运营的事前计划、事中控制和事后分析

事前计划：生产规划、采购计划、销售执行计划、利润计划

事中控制：

​	事务处理的同时，自动生成会计凭证

​	保证资金流与物流的同步记录和数据的一致性

​	有利于追溯资金往来和相关的业务活动

​	便于实现事中控制和实时决策

事后分析：查询与分析报表，商务智能

**企业的资源**

* 硬件资源
  * 厂房
  * 生产线
  * 加工设备
  * 检测设备
  * 运输工具等
* 软件资源
  * 管理能力
  * 信誉
  * 融资能力
  * 组织结构
  * 员工的劳动热情等

**定性效益**

* 基本数据管理更加完备、精细，准确度提高
* 高层的决策更加快捷、科学，市场的应变能力和速度提高
* 员工有更多的时间从事真正的管理工作
* 可增强员工的全局性观念，使企业部门间的协同工作成为可能
* 管理更加规范，提高企业管理的计划性



### ERP功能模块

ERP的功能模块，一直处于发展变化

* 环境与用户界面
  * 系统环境、文档和用户界面
* 系统整合
  * 工作流管理、子系统关系、集成电子商务应用、分布式数据库整合和企业应用集成等
* 系统管理
  * 系统安全管理、数据库管理和报表生成器
* 基本信息
  * 基础参数设置、进销存参数设置、财务参数设置、币种与汇率管理、编码原则设置管理、付款条件管理类别
* 库存管理
  * 基础数据、物料库存定义、库存事务处理、盘点管理、库存预警和库存报表管理
* 采购管理
  * 供应商管理、价格管理、询价管理、请购管理、采购管理、合同管理、到货验收管理、退货管理、进口管理和管理性报表等
* 营销管理
  * 价格管理、信用额度管理、销售预测、报价管理、接单管理、合同管理、订单变更、发货管理等
* 质量管理
  * 弹性参数设定、管制图表、品质检验与记录、售后服务等
* BOM管理
* 车间任务管理
* 工艺管理
* MRP管理
* 成本管理
* 人力资源
* 经营决策
* 固定资产
* 总账
* 应付
* 应收
* 自动分类



### ERP的发展阶段

1. 订货点法 (Re-order Point, ROP)

   * 按过去的经验去预测未来的物料需求
   * 订货点法的实质：库存补充
     * 能够为企业正常生产提供足够的原料
     * 会有库存积压
   * 对物料的要求较高
     * 物料的需求是相对独立的
     * 提前期是已知的和固定的
   * 订货点法是围绕一些不成立的假设建立的，关注的是“何时订货”

2. 时段式MRP

   * Material Requirement Planning 物料需求计划
   * 物料：产品、零部件、在产品、原材料甚至工装工具等
   * MRP与订货点法的区别
     * 通过产品结构，将所有物料的需求联系起来
     * 将物料需求分为独立需求和相关需求
     * 对物料的库存信息，引入时间坐标
       * 库存量 + 已订货量 - 需求量 = 可供货量
       * 库存量：现存量
       * 已订货量：预计入库量
       * 需求量：预计出库量
       * 可供货量：计划可向外界供应量
   * 详细说明
     * “生产什么”的信息来自于MPS（Master Production Schedule 主生产计划）
       * 确定每一个具体的最终项目在每一个具体时间段内生产数量的计划
       * 最终项目可以是产成品，也可以是有独立需求的装配件
     * “需要什么”的信息来自于BOM（Bill of Material 物料清单）
       * 描述企业产品组成的基础文件
       * 说明一个最终产品由哪些原材料构成，以及在时间、数量上的关系
       * 确定为生成最终项目需要的子件以及数量
     * “已有什么”的信息来自于库存信息
     * 将“需要什么”和“已有什么”相比较，得出“还需要什么”的信息
       * 车间作业计划
         * 每项生产物料的建议计划
           * 生产开始时间和完工时间
           * 需求数量
       * 采购/委外计划
         * 每项采购/委外物料的建议计划
           * 订货日期与到货日期
           * 需求数量
   * 时段式MRP：以订单为基础的订货系统
   * 时段式MRP的优点：能计算出相关物料需求的准确时间与数量
   * 时段式MRP的缺点
     * 没有考虑现有的生产能力
     * 没有考虑采购的条件约束
     * 缺乏根据反馈信息，调整计划的能力

3. 闭环式MRP

   * 对投入与产出进行控制
   * 对企业能力进行校验、执行和控制
   * 闭环式MRP的优点
     * 主生产计划：企业的生产经营计划与市场需求
     * 主生产计划与物料需求计划：伴随着能力与负荷的运行
     * 作业计划与执行：物料的加工变化，控制能力的投入与产出过程
     * 能力执行情况反馈到计划层：整个过程是能力的不断执行与调整的过程
   * 闭环式MRP的缺点
     * 仅关注生产管理，涉及的物流
     * 资金流，由财会人员另行管理
     * 造成了数据的重复录入与存贮，甚至数据的不一致性

4. MRP II

   * Manufacturing Resource Planning 制造资源计划
   * 把生产、财务、销售、采购等各个子系统集成为一体化系统
   * MRP II的原理
     * 把企业作为一个有机整体
     * 对企业各种制造资源和各个环节进行有效地计划、组织和控制
     * 使它们协调发展，充分发挥作用
   * MRP II的优点
     * 在周密的计划下，有效地利用各种制造资源，控制资金占用，缩短生产周期，降低成本
     * 实现企业整体优化
   * MRP II的缺点
     * 时代背景
       * 世界经济格局改变
       * 企业面临的问题：更加激烈的市场竞争
     * 管理需求
       * 仅靠本企业的资源不可能有效参与市场竞争，必须把制造各方纳入紧密的供应链
       * 需要支持混合方式的制造环境
     * 无法满足企业利用一切市场资源快速高效地生产经营

5. ERP

   * 超越MRP II范围的集成功能
     * 软件功能范围
   * 支持混合方式的制造环境
     * 软件应用环境
   * 支持能动的监控能力
     * 软件功能增强
   * 支持开放的C/S计算环境
     * 软件支持技术

   **传统ERP的不足**

   * 应用领域狭窄，局限于制造业
   * 系统功能少，业务处理面窄：制造、分销和财务管理，企业内部流程管理
   * 系统结构：面向对象设计技术，难以实现“用户定制”
   * ERP系统：“以产品为中心”设计，没有充分考虑用户的“个性化”

**ERP发展**

* 产生背景
  * 21世纪的竞争，不是单一企业之间、单一企业链之间的竞争，而是企业群体之间的竞争
  * 重视整个供应链以及整个企业联盟内的资源整合与协同
* ERP II
  * 支持和优化企业内部和企业之间的协同运作和财务过程
  * 是创造客户和股东价值的一种商务战略
  * 是一套面向具体行业领域的应用系统
* ERP II引入了协同商务的概念，是对ERP的一种扩展和提升
* 发展趋势
  * 实现更大范围的功能集成
  * 支持更广泛的供应链管理模式
  * 实现更大范围的资源优化配置



### 基本概念

#### 账套与账套库

* 一个账套对应一个经营实体或核算单位
* 账套是由一个或多个账套库组成的

* 一个账套库含有一年或者多年的使用数据

#### 用户

* 系统管理员
* 单位帐管理员
* 最终用户

#### 角色

* 是指企业管理中拥有某一类职能的组织
* 用户与角色是多对多的关系
* ERP软件中的权限可以通过角色分配给用户

#### 权限

* 按业务分配的功能级权限
  * 由单位帐管理员根据具体的工作岗位进行分配的
  * 通过对用户组分配权限
* 按数据项分配的数据级权限
  * 记录级的权限控制
  * 字段级的权限控制
* 按金额分配的金额级权限
  * 主要是用于完善内部的金额控制，实现对具体金额数量划分级别，对不同岗位和职位的操作员进行金额级别控制，限制他们可以使用的金额数量



### 系统管理

* 具有公用的基础信息
* 拥有相同的账套和账套库，其业务数据共用一个数据库
* 操作员和操作权限集中管理
* 角色权限集中管理

#### 系统管理的功能描述

* 对账套的统一管理
* 对账套库的管理
* 对操作员及其功能权限的管理
* 设置自动备份计划
* 对系统任务的管理



#### 系统管理的常用功能

* 账套库管理
* 账套管理
* 用户管理
* 角色管理
* 功能权限管理
* 系统任务管理



### 企业应用平台

> Q:为什么要使用企业应用平台？
>
> * 为同一个主体的不同层面服务
> * 产品与产品之间相互联系，数据共享
>
> 所以，需要
>
> * 具备公用的基础信息
> * 企业业务数据共用一个数据库

#### 企业应用平台的用户与角色

* 单位帐管理员
* 最终用户
  * 负责单位帐内部具体业务操作的用户
  * 由账套主管根据具体的岗位分配权限
  * 仅能使用企业应用平台软件的部分授权功能

类似地，“账套主管”、“生产主管”是角色



#### 企业应用平台的主要功能

* 业务工作
* 基础设置
  * 控制企业账套的时间
  * 模块启用
  * 编码规则设置
  * 数据精度设置
* 系统服务



### 企业档案

> 企业的基础档案，是企业的静态信息
>
> 包括人、财、物、业务信息、期初数据与设置、其他

#### 企业的特点

* 依法成立
* 自主经营、自负盈亏
* 经济性组织
  * 必须能够盈利
  * 亏损的企业可以认为是在浪费、损害社会资源



#### 企业的类型

* 分类特征
  * 按照所属的经济部门
    * 农业企业
    * 工业企业
    * 商业企业
    * 物资企业
    * 交通运输企业
    * 金融企业
    * 建筑安装企业
    * 其他企业
  * 按照生产要素所占比重
    * 劳动密集型
    * 技术密集型
    * 资金密集型



#### 工业企业的基本活动

* 制定经营方针和目标
* 技术创新活动
* 供应活动
* 生产活动
* 销售活动
* 财务活动
* 安全活动
* 管理活动



#### 物料清单

亮康眼镜的物料清单

反映了从原材料，到半成品，再到产成品的物料配比关系和物料之间的上下游关系

叶节点：采购件

根节点：产成品

中间的子节点：半成品

![亮康眼镜的物料清单](C:\Users\bzhan\AppData\Roaming\Typora\typora-user-images\image-20211030101613738.png)



#### 人——利益相关者

* 员工
* 供应商
* 批发商、零售商
* 消费者
* 投资者（股东）
* 社会（社区）
* 政府

需要录入部门档案、人员档案、客户档案、供应商档案



#### 财

##### 收付结算

* 结算方式
  * 现金、支票（现金支票、转账支票）、银行承兑汇票、商业承兑汇票、电汇、委托收款等
* 付款条件
  * 也叫现金折扣，是指企业为了鼓励客户尽快付清货款而允诺在一定期限内给予规定折扣的优待
* 银行信息



##### 账务处理

* 会计科目
  * 财务会计的主要科目是：确认、计量、报告
  * 对会计对象具体内容分门别类进行核算所规定的项目
  * 填制会计凭证（是指记录经济业务发生或者完成情况的书面证明，是登记账簿的依据）、登记会计账簿、编制会计报表的基础
  * 其设置的完整性，影响着会计过程实施的顺利程度
  * 设置的层次深度，影响会计核算的详细、准确程度
* 凭证类别
  * 许多单位为了登账或管理方便，一般对记账凭证进行分类编制
  * 记账凭证
  * 收款、付款、转账凭证
  * 现金、银行、转账凭证
* 外币设置
* ...



#### 业务信息

* 收发类别
  * 对材料的出入库情况进行分类汇总
* 发运方式
  * 公路、铁路、航空、水运等
* 采购与销售类别
* 费用类别与项目
* ...



#### 物

##### 计量单位

* 计量单位组
  * 无换算率计量单位组
    * 组内的所有计量单位都是以单独形式存在
    * 默认为主计量单位
  * 浮动换算率计量单位组
    * 组内只能有2个计量单位，一个是主计量单位，另一个是辅计量单位
    * 换算率可以为空
  * 固定换算率计量单位组
    * 组内可以有2个或以上的计量单位组，主计量单位1个，其他的为辅计量单位
    * 每一个辅计量单位对主计量单位的换算率不为空



##### 质量管理档案

* 检验标准
* 检验项目
* 检验指标
* 检验方案
  * 质量检验的标准和依据
  * 检验结果与检验方案对应
  * 方案内容包括
    * 检验标准
    * 检验项目
    * 检验指标
    * 检验设备仪器
    * 检验用料
    * 检验地点
  * 可将质量检验方案，指定给存货



##### 仓库档案

* 贮存设施
  * 库房
  * 运输传送设施
  * 输送管道
* 存货的计价方式
  * 先进先出法
    * 存货在出库计算出库成本时，只按此仓库的同种存货的入库记录，进行**先进先出**成本选择
  * 后进先出法
    * 存货在出库计算出库成本时，只按此仓库的同种存货的入库记录，进行**后进先出**成本选择
  * 移动平均法
    * 按最新的结存金额和结存数量计算出库单价
    * 出库成本 = 最新出库单价 * 出库数量
  * 全月平均法
    * 在期末处理时，计算本月的平均单价
    * 出库成本 = 平均单价 * 出库数量
  * 个别计价法
  * 计划价法

* 仓库的类别属性
  * 以下都可以是虚拟仓库
  * 普通仓
    * 正常的物料出入库、盘点管理的仓库
  * 现场仓
    * 生产过程的材料、半成品、产成品管理的仓库，是车间库存
  * 委外仓
    * 委外发料和入库管理的仓库
  * 代管仓
    * 入库物料不为企业所有，其物料将只记录数量，不考虑成本
  * 资产仓
    * 存放固定资产的仓库



##### 存货档案

###### 存货的基本属性

* 存货的多计量单位
* 存货的销售相关属性
  * 只有具有销售相关属性的存货，才可用于销售
  * 与销售有关的单据中的存货：必须具有销售相关属性
  * 发货单或发票上的应税劳务：必须具有销售相关属性
  * 存货的销售相关属性包括：
    * 内销
      * 具有内销属性的存货，可在销售系统中被参照使用
    * 外销
      * 具有外销属性的存货，可在出口系统中被参照使用
* 存货的采购相关属性
  * 只有具有采购相关属性的存货，才可用于采购
  * 与采购有关的单据中的存货：必须具有采购相关属性
  * 开在采购发票上的采购费用：必须具有采购相关属性
  * 存货的采购相关属性包括：
    * 采购
      * 具有采购属性的存货，可在采购系统中被参照使用
    * 委托代销
      * 可选择受托代销属性的账套：商业或医药流通
* 存货的委外相关属性
  * 只有具有委外属性的存货，才可用于委外管理
  * 与委外相关的单据中的存货：必须具有委外属性
* 存货的生产相关属性
  * 只有具有生产相关属性的存货，才可用于生产
  * 存货的生产相关属性包括：
    * 自制
      * 具有自制属性的存货（即自制件），可用于产成品或半成品的入库
    * 在制
      * 具有在制属性的存货（即在制件），在生产制造模块中可具有“在制”状态
    * 生产耗用
      * 具有生产耗用属性的存货（即生产耗用件），可用于材料的领用（原材料和半成品）
    * 工程物料
      * 试制用到的新物料（即工程物料），在采购时需要进行单次采购数量的限制
* 存货的物料清单相关属性
  * 只有具有物料清单相关属性的存货，才可用于物料清单属性
  * 存货的物料清单相关属性包括：
    * 计划品
      * 代表一个产品系列的物料类型，其物料清单中包含子件物料和子件计划百分比
    * ATO 面向订单装配 （Assemble To Order）
      * ATO件本身，只有在接受客户订单后，方可下达生产进行装配，目的是提前准备其子件
      * ATO件一定同时是自制件
      * ATO模型件，是ATO与模型属性共存的自制件，可支持客户个性化定制生产
    * 模型
      * 模型件支持选配子件
      * 模型属性，可以与ATO、PTO或特征选配属性同时存在
    * 选项类
      * 是ATO模型或PTO模型物料清单上，对可选子件的一个分类
      * 作为一个物料（即存货），成为模型物料清单中的一层
    * PTO 按订单分拣 Parcel To Order
      * PTO件本身，只有在接受客户订单后，方可从仓库中挑选出库，其主要目的是提前准备子件
      * PTO件一定同时是模型件，以支持客户个性化定制分拣出库
      * ATO与PTO的区别
        * ATO：需按选配后下达生产订单组装完成后再出货
        * PTO：按选配子件直接出货
    * 特征选配
      * 用于生产制造的产品配置业务
      * 仅与“模型”属性不互斥
  * 存货的属性设置，将影响该存货其后的使用
  * 同一存货可以设置多个属性
    * 若同时具有自制、委外和采购，或自制和委外，或自制和采购属性，则计划默认属性为自制，及生产规划时按默认自制件处理
    * 若同时具有委外和外购属性，则计划默认属性为委外，即生产规划时默认按委外件处理

###### 存货的其他属性

* 控制相关
  * 主要供应商（来自供应商档案）
  * 默认仓库（来自仓库档案）
  * 供应类型
    * 领用
      * 可按需要直接领料，供应给母件的生产订单和委外订单
    * 入库倒冲
    * 工序倒冲
    * 虚拟件
      * 无库存的装配件
      * 可以将其母件所需物料组合在一起，产生一个子装配件
      * 生产规划时将通过虚拟件直接展开到该虚拟件的子件
    * 直接供应
    * 控制如何将子件物料供应给生产订单和委外订单，如何计划物料需求和计算物料成本
    * 子件供应类型的默认值
  * 安全库存
    * 库存存货的基准数量
    * 库存安全预警的基础
* 价格成本属性
  * 计价方式
  * 进项税率
    * 采购单据上该存货默认的进项税税率
  * 销项税率
    * 销售单据上该存货默认的销项税税率
  * 参考成本
    * 指按实际成本法计算出库成本的存货，在填制出入库成本时的参考成本
    * 属性设置：是编辑项
    * 在存货核算系统，若某些选项设置为“参考成本”，则在各种成本确认的过程中都会自动取该值作为成本
  * 参考售价
    * 销售管理的价格管理中，客户价格和存货价格中的默认批发价
  * 最低售价
* 计划相关属性
  * 计划默认属性
    * ![image-20211030153116794](C:\Users\bzhan\AppData\Roaming\Typora\typora-user-images\image-20211030153116794.png)
  * 提前期
    * 固定提前期
      * 某个物料从发出需求信息，到收到物品为止所需的最少需求时间
    * 变动提前期
      * 如果生产或采购或委外时，会**因数量**造成生产或采购或委外时间不一致，此段时间称为变动提前期
    * 变动基数
      * 如果有变动提前期考虑时，每日产量即为变动基数
    * 总提前期 = （总需求量 / 变动基数） * 变动提前期 + 固定提前期
    * 累计提前期
      * 是指从取得原物料开始到完成制造该存货所需的固定提前天数
      * 可逐层比较而取得其物料清单下各层子件的最长累计提前期，再将本存货的固定提前期与其累加而得
      * 该值由系统自动计算给出
  * MPS件
    * Master Production Schedule 主生产计划
      * 对企业的关键零部件或产品的生产计划
    * 指主生产计划功能规划的物料
    * MRP：对非MPS件（即MRP件）
  * 数量修正
    * 供应倍数
      * 一种生产计划的修正手段
      * 在生产规划编制时，系统自动将存货的规划净需求数量，修正为供应倍数的整数倍
      * “供应倍数”属性值，可以为小数
    * 固定供应量
      * 一种生产计划的修正手段
      * 在生产规划编制时，系统自动将存货的规划净需求数量，修正为固定供应量
    * 最低/最高供应量
      * 生产计划的修正手段
      * 在生产规划编制时，系统自动将存货的规划净需求数量，修正为不低于最低供应量、不高于最高供应量的规划供应单
    * 切除尾数
      * 一种生产计划的修正手段
      * 在生产规划编制时，如果存货的规划净需求数量是小数，则对数量进行向上进位取整
* 质量相关属性
  * 质检
    * 设置该存货是否需要进行质量检验
  * 检验方式
    * 全检
    * 免检
    * 破坏性抽检
    * 非破坏性抽检
  * 抽检规则
    * 当检验方式设置为“破坏性抽检”，“非破坏性抽检“时，可设置抽检规则
    * 按比例抽检
      * 需要设置抽检率
    * 定量抽检
    * 按国标抽检
    * 按自定义规则抽检
  * 抽检率
    * 设置相对于报检批量，需要抽检的比率
    * 抽检量 = 报检量 * 抽检率
  * 质量检验方案



###### 存货档案编辑
