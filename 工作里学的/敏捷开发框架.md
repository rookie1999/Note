## 敏捷开发

### Product backlog 产品待办列表

* 排序 —— 好的产品列表一定是排好序的
* 详略得到
  * 即越上面、越前排的比较详细；越后面的相对粗略
* 动态的
  * 调整顺序，即调整价值，哪个价值更高，可以调整前置
* 估算需求的大小
  * 价值、成本



### 传统软件开发

* 代码保存在磁盘中，不可见
* 需求方不知道研发方的进度
* 程序员只知道按要求实现功能，不清晰业务场景和用户使用习惯
* ...

**用任务版把所有团队认为应该展现出来的信息都展示出来**

传统软件开发中，只有等到产品开发完毕交付到用户手中，才能真正得到用户的反馈



### 迭代增量式软件开发

迭代：重复做一件事

在**时间限定、限定资源**的情况下，重复做一件事

2-4周的迭代形式进行，结束后并进行回顾和反思，并要拿出潜在可交付的软件

敏捷中的实践方法：每日站会、评审会议、回顾会议



### 敏捷开发

Agile Development

一种**以人为核心**、**迭代**、循序渐进的开发方法

常见敏捷方法论：

* Scrum
* 极限编程 XP
* MSF
* OpenUP
* 水晶方法
* 精益开发
* ...

Scrum与XP的区别在于XP偏重于结果，Scrum偏重于开发过程



### 四大宣言和十二条原则

**四大宣言**

* 个体和互动  高于 流程和工具
* 可工作的软件  高于  面面俱到的文档
* 客户合作  高于  合同谈判
* 响应变化  高于  遵循计划

**十二条原则**

* 目的：使客户满意
  * 我们最重要的目标，是通过持续不断地及早交付有价值的软件使客户满意
* 态度：欢迎需求变更
  * 欣然面对需求变化，即使在开发后期也一样，为了客户的竞争优势，敏捷过程掌控变化
* 关注：客户需求的软件
  * 经常交付可工作的软件，相隔几星期或者一个月，倾向于采取较短的周期
* 合作：推倒那堵墙
  * 业务人员和开发人员必须相互合作，项目中的每一天都不例外
* 核心：团队成员
  * 激发个体的斗志，以他们为核心搭建项目。提供所需的环境和支援，辅以信任，从而达成目标
* 沟通：面对面
  * 不论团队内外，传递信息效果最好效率最高的方式是**面对面交谈**
* 标准：可工作的软件
  * 可工作的软件是进度的首要度量标准
* 倡导：可持续开发
  * 敏捷过程倡导可持续开发。责任人、开发人员和用户要能共同维持其步调稳定延续
* 追求：技术卓越和设计良好
  * 坚持不懈地追求技术卓越和良好设计，敏捷能力由此增强
* 根本：简洁
  * 以简洁为本，它是极力减少不必要工作量的艺术
* 团队：自组织
  * 最好的架构，需求和设计出自自组织团队
* 调整：定期反思
  * 团队定期反思如何能提高成效，并依此调整自身的举止表现



### Scrum框架

英文：并列争球

#### 流程

![image-20211206195913480](C:\Users\bzhan\AppData\Roaming\Typora\typora-user-images\image-20211206195913480.png)

![image-20211206200003413](C:\Users\bzhan\AppData\Roaming\Typora\typora-user-images\image-20211206200003413.png)



#### 核心要素

* 三个角色
  * Product Owner
    * 与客户沟通、确定客户真正意图、产品交付日期等
    * 与团队沟通，共同确定需求
    * 考虑团队研发实力
  * Scrum Master
    * 负责整个Scrum流程在项目中的顺利实施和进行
    * 没有行政权利
    * 不帮团队做决定，可提出建议
  * Develop Team
    * 负责整个Scrum流程在项目中顺利实施和进行自组织的开发团队
    * 一般5-9人
    * 跨职能团队（业务分析师、程序员、测试人员、架构师、数据设计师、...）
* 三个工件
  * Product Backlog
    * PO负责管理的产品列表，随优先级、价值或风险而变化的活文档
    * ![image-20211206203344436](C:\Users\bzhan\AppData\Roaming\Typora\typora-user-images\image-20211206203344436.png)
  * Sprint Backlog
    * 团队负责随时更新，是团队在sprint中完成的任务清单
  * Increment (当前sprint完成的增量)
    * 每个sprint的交付物
* 四种会议
  * Sprint Plan Meeting
    * 召开时间：每个迭代第一天召开
    * 目标：选择和估算本次迭代的工作项，制定Sprint Backlog
    * 参会人：PO，Scrum Master、Development Team
    * 会议准备
      * 已按优先级排列并通过评估的Product Backlog
      * 每人已获得上次Sprint Review Meeting、Retrospective Meeting结果
      * Sprint时间表已安排
    * 会议进程
      * 公开sprint时间表
      * 一起确定sprint目标
      * 如果有问题遗漏，PO有权向Backlog补充添加
      * 细化任务（编码，测试，代码评审，编写文档，...）
  * Daily Standup Meeting
    * 召开时间：每天早上开，10-15分钟，严格控制时间
    * 目的：团队成员间工作进度的沟通和协调
    * 参会人：Scrum Master、Development Team、PO或其他相关人员（可选）
    * 注意：只有团队人员可在会上发言，其他人员可旁听
    * 会议内容
      * Scrum Master主持，团队成员轮流发言
        * 昨天完成了什么
        * 今天打算完成什么
        * 工作中遇到哪些困难
      * 更新任务板、燃尽图
  * Review Meeting (与客户一起开，展示feature)
    * 可以理解为评审会议
    * 演示本sprint中开发的产品功能给Product Owner
    * Product Owner邀请项目相关人员参加
    * 形式
      * 团队展示sprint中完成的功能
      * 通过现场演示的方式展现功能和架构
      * 不需要太正式，可以不用PPT
    * 步骤
      * 阐述sprint目标
      * 演示关注业务层次，不是技术层次
      * 演示不需要花哨，只需要说明实现了什么，无需过多介绍细节
      * 可能的话，让用户体验一下
  * Retrospective Meeting (与team一起开，反思这个sprint)
    * 团队的定期自我检视
    * 每个sprint都要做
    * 明确好的地方和需要改进的地方

> 自组织：主动与产品负责人、Scrum Master沟通，各种成员能够自我管理和主动协调工作，能从项目大局出发主动承担未完成工作



#### 任务板

任务板中包含的状态是由团队确定的

![image-20211206212849290](C:\Users\bzhan\OneDrive - Infor\Desktop\image-20211206212849290.png)



#### 燃尽图

* 描述随着时间的推移而剩余的工作量，可用于表示开发速度
* X:时间  Y:剩余工作量

![image-20211206213004785](C:\Users\bzhan\AppData\Roaming\Typora\typora-user-images\image-20211206213004785.png)

![image-20211206213411973](C:\Users\bzhan\AppData\Roaming\Typora\typora-user-images\image-20211206213411973.png)



#### 开发团队

* 5-9人
* 人员跨职能
* 需要T型人才
  * 既有较深的专业知识，又有广博的知识面
  * 一专多能

```
* 问题：没有好的员工
解决方案： 专职核心团队 + 顾问团队
顾问团队是多个小组共用的，弥补一些小组的技术空白

* 新团队新项目，如何估算团队速率
解决方案：
	* 使用历史数据（同一团队或其他团队）
	* 猜猜看
	* 运行一段时间之后再判断
```

**估算工具**

纸牌：斐波那契数列（估算大任务时帮助团队考虑到不确定性）

步骤：对于一个user story，每个人挑选一张纸牌对其进行估算，大部分人估算的结果相似，对于特小或者特大的值，需要请员工进行理由阐述，阐述之后重新进行投票

**猜猜看**

* 估计产品列表
* 分解参考故事
* 确定故事点数与小时数的大致关系
* 确定团队能力
  * 每个人的每周最坏工作情况（小时数）和最好工作情况
* 估计团队效率

**运行一段时间之后再判断**

* 收集数据（三个sprint的数据）
* 估算速率
  * 不要公布平均值
  * 速率矩阵
  * 项目/技术熟悉程度矩阵



#### 用户故事

**为什么要使用用户故事**

* 促进沟通
* 持续交付
* 开发敏捷

**什么是用户故事**

* 从用户的角度来描述用户渴望得到的功能

  ```
  作为一个<角色>，我想要<功能>，以便于<商业价值>
  ```

  * 角色：谁要使用这个功能
  * 功能：需要完成什么样的功能
  * 商业价值：为什么需要这个功能，这个功能带来什么样的价值

* 用户故事尽量由客户或者能够代表客户利益的人来写

**用户故事的描述（3C）**

* Card  卡片
  * 一般来说用户故事是写在记事卡片上，卡片上可能包括了一些说明和估算的信息
* Conversation 交谈
  * 对话有关的具体信息是通过和PO交谈沟通得出的
* Confirmation  验收
  * 验证用验收测试来确认实现的正确性

**用户故事的Invest原则**

* 独立的  Independent
* 可以商议的  negotiatable
* 有价值  valuable
* 可估算的  estimable
* 小的  small
* 可测试的  testable

Independent

* 可以围绕一个任务，而有一定的独立性，并可测试
* 可以通过组合、分解用户故事减少依赖性

Negotiatable

* 可协商的
* 过多的细节限制了与客户的沟通

Valuable

* 必须以交付商业价值为目的

Estimable，Small

* 是进行项目合理估算的最基本要求
* 用户故事需要足够小，颗粒度一致
* 一个大的story是若干个小的story的集合

Testable

* 便于确认它是可以完成的

验收条件

* Happy path
* Sad path
* Performance
* Usability
* Security

##### 绘制用户故事树

* 分解是自上而下的
* 故事树的完善是自下而上的
* 跟客户沟通是整个故事树
* 开发永远是最底层的故事

1. 界定业务边界，用户角色
2. 故事从哪里来
3. 分解故事
4. 编写用户故事

![image-20211211161956193](C:\Users\bzhan\AppData\Roaming\Typora\typora-user-images\image-20211211161956193.png)

5. 在sprint planning meeting上估算story point
   * 不能如期完成
     * 选择次要的用户故事推迟发布
     * 简化用户故事
     * 增加开发人员
       * 项目人员不能太多，周期不能太长



#### 每日例会

* 每人发言
  * 昨天做了什么？
  * 今天做了什么？
  * 遇到什么障碍，需要什么帮助？
* 更新Kanban
* 更新燃尽图

##### 每日例会的意义

* 及时发现项目中遇到难的问题，从而规避风险
* 团队成员各自汇报当天工作，打破沟通壁垒

* 团队成员感受项目状态，根据进度及时调整项目工作计划
* 增强团队凝聚力

##### 问题及解决思路

* 开会迟到
  * 约定开会时间，在人到齐之后15-30分钟
  * 提醒
  * 共同协商惩罚方法
* 打断他人，深入讨论细节，未能合理把控会议节奏
  * 说话令牌（谁持有，谁就可以说话）
* 漫天跑题
  * 会前准备好问题和解决方案，限定问题范围和边界

##### 成功秘诀

* 保持会议的周期
* 站着，不要坐着
* 朝着共同目标前进的整体
* 耐心

