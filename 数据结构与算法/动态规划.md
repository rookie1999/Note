## 动态规划

### 动态规划题目特点

#### 1 计数

* 有多少种方式走到右下角
* 有多少种方法选出k个数使得和是Sum

#### 2 求最大最小值

* 从左上角走到右下角路径的最大数字和
* 最长上升子序列长度

#### 3 求存在性

* 取石子游戏，先手是否必胜
* 能不能选出k个数，使得和是Sum

### 求最值型动态规划

消除冗余，加速计算

#### 背景——找零问题

> 有三种硬币2分，5分，7分，怎么使用最少的硬币数得到27分

#### 动态规划组成部分一：确定状态

* 简单地说，解动态规划的时候需要开一个数组，数组的每一个元素`f[i]`或者`f[i][j]`代表什么
* 确定状态需要两个意识：
  * 最后一步
  * 子问题

**最后一步**

假设最少使用k枚硬币得到27分，最后一个硬币是$a_k$，那么除去最后一枚硬币，还有k-1枚组成了$27 - a_k$

**子问题**

最少使用多少枚硬币拼出$27 - a_k$

**状态**

f(X)=最少使用多少枚硬币拼出X

则$f(27)=min{f(27-2)+1, f(27-5)+1,f(27-7)+1}$

#### 动态规划组成部分二：转移方程

比如：$f(X)=min{f(X-2)+1, f(X-5)+1,f(X-7)+1}$

#### 动态规划组成部分三：初始条件和边界情况

**初始条件**

f[0] = 0

#### 动态规划组成部分四：计算顺序

从`f[0]`计算到`f[X]`



### 求Unique paths

#### 背景

> 给定m行n列的网格，有一个机器人从左上角(0, 0)出发，每一步可以向下或者向右走一步
>
> 问有多少种不同的方式走到右下角

#### 确定状态

**最后一步**

无论机器人用何种方式到达右下角，总有最后挪动的一步（向右或向下）

**子问题**

如果机器人有X种方式从左上角走到(m-2, n-1)，有Y种方式从左上角走到(m-1, n-2)，则机器人有X+Y种方式走到(m-1, n-1)

**状态**

设`f[i][j]`为机器人有多少种方式从左上角走到(i, j)

#### 转移方程

对于任意一个格子(i, j)

$f[i][j] = f[i-1][i] + f[i][j-1]$

#### 初始条件与边界情况

**初始条件**

`f[0][0] = 1`

**边界情况**

当i=0或j=0时，前一步只能有一种方式过来，则`f[i][j]`=1

**计算顺序**

计算第0行...

计算第1行...

...

计算第m-1行

答案是`f[m-1][n-1]`



### 贪心策略与动态规划的区别

* 贪心算法要求`局部最优等于总体最优`
* 动态规划要求`问题的最优解包括规模更小的最优解`

### 动态规划的适用范围

**最优子结构**

问题的最优解包含子问题的最优解

**无后效性**

当前阶段的状态仅由以前阶段决定

后续阶段状态的变化不会影响当前阶段的状态

**重复子问题**

解决问题过程中的子问题存在大量重叠（冗余计算）

**不适用动态规划的反例**

最长路径问题

A-C的最长路径经过B，但这条最长路径并不一定包含A-B的最长路径